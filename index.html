<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Thiệp 20/10 cho Mẹ Iu</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#fff6fb;--card-w:820px;--card-h:520px;--accent:#ff6fa3;--muted:#6b6b6b;}
    *{box-sizing:border-box}body{font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:linear-gradient(180deg,#fff 0%, #fff6fb 100%);padding:28px;display:flex;gap:24px;min-height:100vh;align-items:flex-start;justify-content:center}
    .app{display:flex;flex-direction:column;gap:18px;max-width:1200px;width:100%}header{display:flex;align-items:center;gap:16px}header h1{margin:0;font-weight:800;font-size:20px}header p{margin:0;color:var(--muted);font-size:13px}
    .card-wrap{display:flex;align-items:center;justify-content:center;width:100%;}
    .card{width:var(--card-w);height:var(--card-h);border-radius:20px;box-shadow:0 18px 50px rgba(15,15,15,0.12);overflow:hidden;position:relative;padding:32px;display:flex;flex-direction:column;justify-content:space-between;background:linear-gradient(135deg,#fff0f8,#fff);}
    .top{display:flex;gap:18px;align-items:center}
    .avatar{width:140px;height:140px;border-radius:16px;overflow:hidden;flex-shrink:0;background:linear-gradient(135deg,#fff,#ffeef6);display:flex;align-items:center;justify-content:center}
    .avatar img{width:100%;height:100%;object-fit:cover}
    .headline{flex:1}
    .headline h3{margin:0;font-family:Pacifico, cursive;font-size:36px;color:var(--accent)}
    .headline p{margin:6px 0 0 0;color:var(--muted)}
    .message{background:rgba(255,255,255,0.6);padding:12px;border-radius:10px;border:1px dashed rgba(0,0,0,0.04);font-size:16px}
    .footer{display:flex;justify-content:space-between;align-items:center;font-size:12px;color:var(--muted)}
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    .btn{padding:10px 12px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
    .btn.primary{background:var(--accent);color:white}
    .small{font-size:12px;padding:8px 10px}
    @media (max-width:1000px){.card{width:650px;height:410px}}@media (max-width:600px){body{padding:12px}.card{width:320px;height:420px;padding:18px}.avatar{width:96px;height:96px}.headline h3{font-size:26px}}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div style="width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#ff9ccf,#ffe7f6);display:flex;align-items:center;justify-content:center;font-weight:800;color:white;font-size:28px">P</div>
      <div>
        <h1>Thiệp 20/10 — Con trai iu gửi Mẹ</h1>
      </div>
    </header>

    <div class="card-wrap">
      <div id="card" class="card">
        <div class="top">
          <div class="avatar" id="avatar"><img id="avatarImg" src="z7136267642962_ec7ac747bd5a131a4decbcb5534a9142.jpg?q=80&w=600&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="avatar"></div>
          <div class="headline">
            <h3 id="cardTitle">Mẹ yêu</h3>
            <p id="sub">Nhân Ngày 20/10 — Ngày tôn vinh người phụ nữ Việt Nam</p>
          </div>
        </div>

        <div class="message" id="cardMsg">Chúc Mẹ của con một ngày 20/10 thật ý nghĩa, tràn ngập niềm vui và tiếng cười!
Cảm ơn Mẹ đã luôn là người phụ nữ vĩ đại, âm thầm hi sinh từng chút cho gia đình, luôn kiên nhẫn, dịu dàng và bao dung với con.

Mỗi nếp nhăn trên khuôn mặt Mẹ là dấu vết của tình yêu thương, mỗi nụ cười Mẹ nở là ánh nắng sưởi ấm trái tim con.
Con mong Mẹ luôn khỏe mạnh, luôn xinh đẹp, luôn trẻ trung và hạnh phúc, để mỗi ngày trôi qua đều là một bông hoa rực rỡ trong vườn đời Mẹ 🌷

Con yêu Mẹ nhiều lắm! ❤️
Dù đi đâu, làm gì, Mẹ vẫn luôn là người con thương nhất trên đời.</div>

        <div class="footer">
          <div>From: <strong id="fromName">Con yêu Mẹ</strong></div>
          <div id="cardDecor">🌸✨</div>
        </div>
      </div>
    </div>


    <footer style="margin-top:12px;text-align:center;color:#6b6b6b">Gửi yêu thương, nhận nụ cười.</footer>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    // If you want to prefill a custom message via URL, use ?to=...&msg=...
    function getQuery(){const q={};location.search.substring(1).split('&').forEach(pair=>{if(!pair) return; const [k,v]=pair.split('='); q[decodeURIComponent(k)]=decodeURIComponent((v||'').replace(/\\+/g,' '));}); return q;}
    const q = getQuery();
    const cardTitle = document.getElementById('cardTitle');
    const cardMsg = document.getElementById('cardMsg');
    const fromName = document.getElementById('fromName');
    if(q.to){ cardTitle.textContent = q.to; }
    if(q.msg){ try{ cardMsg.textContent = q.msg; }catch(e){} }
    if(q.from){ fromName.textContent = q.from; }

    // share button opens a simple editor to customize before sending
    document.getElementById('shareBtn').addEventListener('click', ()=>{
      const to = prompt('Tên người nhận (ví dụ: Mẹ yêu):', cardTitle.textContent) || cardTitle.textContent;
      const msg = prompt('Lời chúc:', cardMsg.textContent) || cardMsg.textContent;
      const from = prompt('Tên người gửi:', fromName.textContent) || fromName.textContent;
      cardTitle.textContent = to; cardMsg.textContent = msg; fromName.textContent = from;
      // create shareable link
      const base = location.origin + location.pathname;
      const params = new URLSearchParams({to: to, msg: msg, from: from}).toString();
      const shareLink = base + '?' + params;
      // copy to clipboard
      navigator.clipboard.writeText(shareLink).then(()=> alert('Link đã sao chép!\nChỉ việc dán gửi cho người nhận:\n' + shareLink));
    });

    // download PNG
    document.getElementById('downloadBtn').addEventListener('click', async ()=>{
      const canvas = await html2canvas(document.getElementById('card'), {scale:2, useCORS:true, backgroundColor:null});
      const a = document.createElement('a'); a.href = canvas.toDataURL('image/png'); a.download = 'Thiep_20-10.png'; a.click();
    });

    // small enter animation
    document.getElementById('card').style.transform = 'scale(0.995)';
    setTimeout(()=>document.getElementById('card').style.transform='scale(1)',120);
  </script>
</body>
</html>
